// pages/EvaluationForm/EvaluationForm1.js
const app = getApp()
var domain = "https://tty.tsing-care.com/";
Page({

  /**
   * 页面的初始数据
   */
  data: {
    index: 1,//
    index1: '',
    index2: '',
    index3: '',
    index4: '',
    pic1: false,
    pic2: false,
    pic3: false,
    pic4: false,
    life: '',
    arraylife: ['毫无影响', '有轻微影响', '有相当程度影响', '有十分严重的影响', '有极度影响，几乎病痛不欲生'],
    imageArray: ['/pages/image/QOL-0.jpg', '/pages/image/QOL-1.jpg', '/pages/image/QOL-2.jpg', '/pages/image/QOL-3.jpg','/pages/image/QOL-4.jpg'],
    image: '/pages/image/xlk.png',
    imageClass: '1',
  },

  bindPickerChange1: function (e) {
    // console.log(e.target.id)
    if (e.target.id>1){
      app.globalData.datet1 = e.target.id-1
    }else{
      app.globalData.datet1 = e.target.id
    }
    // console.log(app.globalData.saPASI1)
    this.setData({
      index1: parseInt(app.globalData.datet1)
    })
    console.log("index1:"+this.data.index1)
    this.setData({
      pic1: false
    })
  },

  bindPickerChange2: function (e) {
    console.log(e.target.id)
    app.globalData.datet2 = e.target.id
    this.setData({
      index2: parseInt(e.target.id) + 1
    })
    this.setData({
      pic2: false
    })
  },

  bindPickerChange3: function (e) {
    console.log(e.target.id)
    app.globalData.datet3 = e.target.id
    this.setData({
      index3: parseInt(e.target.id) + 1
    })
    this.setData({
      pic3: false
    })
  },

  bindPickerChange4: function (e) {
    console.log(e.target.id)
    app.globalData.datet4 = e.target.id
    this.setData({
      index4: parseInt(e.target.id) + 1
    })
    this.setData({
      pic4: false
    })
  },
  
  bindPickerlife: function (e) {
    console.log('picker发送选择改变，携带值为', e.detail.value)
    app.globalData.level = e.detail.value
    // console.log(this.data.imageArray[e.detail.value])
    this.setData({
      life: e.detail.value,
      image: this.data.imageArray[e.detail.value],
      imageClass: '2'
    })
    
    
    console.log(this.data.image)
  },

  bindpic1: function(e){
    console.log('显示图片1')
    this.setData({
      pic1: true
    })
  },
  bindpic2: function (e) {
    console.log('显示图片2')
    this.setData({
      pic2: true
    })
  },
  bindpic3: function (e) {
    console.log('显示图片3')
    this.setData({
      pic3: true
    })
  },
  bindpic4: function (e) {
    console.log('显示图片4')
    this.setData({
      pic4: true
    })
  },
  
  formSubmit: function () {
    var warn = '';//弹框时提示的内容
    var flag = '1';//判断信息输入是否完整
    if (this.data.index1='') {
      warn = '请选择面积！'
      // console.log("面积："+this.data.index1)
    } else if (this.data.index2=='') {
      warn = '请选择红斑！'
    } else if (this.data.index3 == '') {
      warn = '请选择鳞屑！'
    } else if (this.data.index4 == '') {
      warn = '请选择厚度！'
    } else if (this.data.life == '') {
      warn = '请选择生活质量评分！'
    } else {
      flag = '2'
    }
    if (flag == '1') {
      wx.showModal({
        title: '提示',
        content: warn,
        showCancel: false,
      })
    } else {
      console.log('没有表单错误，允许跳转');
      wx.navigateTo({
        url: '/pages/pages/EvaluationForm2'
      })
    }
  },
  /**
   * 生命周期函数--监听页面加载
   */
  onLoad: function (options) {
  
  },

  /**
   * 生命周期函数--监听页面初次渲染完成
   */
  onReady: function () {
  
  },

  /**
   * 生命周期函数--监听页面显示
   */
  onShow: function () {
  
  },

  /**
   * 生命周期函数--监听页面隐藏
   */
  onHide: function () {
  
  },

  /**
   * 生命周期函数--监听页面卸载
   */
  onUnload: function () {
  
  },

  /**
   * 页面相关事件处理函数--监听用户下拉动作
   */
  onPullDownRefresh: function () {
  
  },

  /**
   * 页面上拉触底事件的处理函数
   */
  onReachBottom: function () {
  
  },

  /**
   * 用户点击右上角分享
   */
  onShareAppMessage: function () {
  
  }
})