const app = getApp();
var domain = app.globalData.host;
Page({
  data: {
    imgheight:200,
    headImgHeight: '190rpx',
    topMargin: '80rpx',
    top:350,
    height:'100%'
  },
  onLoad: function () {
    console.log("test-result.js----onload");
    var width = wx.getSystemInfoSync().windowWidth;
    console.log(width);
    this.setData({
      imgheight: width * 0.62,
      headImgHeight: width * 0.24,
      topMargin: width * 0.12,
    })     
  },
  onReady:function(){
    var that = this;
    console.log("i`m ready");
    var query = wx.createSelectorQuery();
    //选择id
    query.select('.main').boundingClientRect()
    query.exec(function (res) {
      //res就是 所有标签为myText的元素的信息 的数组
      console.log(res);
      //取高度
      console.log(res[0].height);
      var width = wx.getSystemInfoSync().windowWidth;
      var w_h = wx.getSystemInfoSync().windowHeight;
      var height = res[0].height;
      if (w_h > height){
        that.setData({
          height: (w_h - width * 0.62)+"px"
        })
      }
      height = height > w_h ?height: w_h;
      that.setData({
        top: height - width*0.75
      })
    })
  }
})